"use strict";function router(){return{routes:[],mode:null,root:"/",config:function(e){return this.mode=e&&e.mode&&"history"==e.mode&&history.pushState?"history":"hash",this.root=e&&e.root?"/"+this.clearSlashes(e.root)+"/":"/",this},getFragment:function(){var e="";if("history"===this.mode)e=(e=this.clearSlashes(decodeURI(location.pathname+location.search))).replace(/\?(.*)$/,""),e="/"!=this.root?e.replace(this.root,""):e;else{var t=window.location.href.match(/#(.*)$/);e=t?t[1]:""}return this.clearSlashes(e)},clearSlashes:function(e){return e.toString().replace(/\/$/,"").replace(/^\//,"")},add:function(e,t){return"function"==typeof e&&(t=e,e=""),this.routes.push({re:e,handler:t}),this},remove:function(e){for(var t,r=0;this.routes.length,t=this.routes[r];r++)if(t.handler===e||t.re.toString()===e.toString())return this.routes.splice(r,1),this;return this},flush:function(){return this.routes=[],this.mode=null,this.root="/",this},check:function(e){for(var t=e||this.getFragment(),r=0;r<this.routes.length;r++){var o=t.match(this.routes[r].re);if(o){if(t===o[0])return o.shift(),this.routes[r].handler.apply({},o),this.current=o,this;document.querySelector(".error").classList.remove("hide")}}return this},listen:function(){var e=this,t=e.getFragment();return clearInterval(this.interval),this.interval=setInterval(function(){t!==e.getFragment()&&(t=e.getFragment(),e.check(t))},50),this},navigate:function(e){return(e=e||"")!==this.getFragment()&&("history"===this.mode?history.pushState(null,null,this.root+this.clearSlashes(e)):window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+e),this}}}!function(e){var t,r,o={body:"",header:"",page:""};function n(e,t,r){var n=document.querySelector("#"+e+"-template"),a=templateData[e];if(r&&r.append||(o[t].innerHTML=""),a)for(var i=0;i<a.length;i++){for(var s=a[i],c=Object.keys(s),l=0;l<c.length;l++){var h=templateTagMap[c[l]],u=s[c[l]];n.content.querySelector(c[l])[h]=u}var d=document.importNode(n.content,!0);o[t].appendChild(d)}else{d=document.importNode(n.content,!0);o[t].appendChild(d)}}function a(){var e=Router.getFragment();o.header.innerHTML="<h1>"+e.charAt(0).toUpperCase()+e.slice(1);var a=function(e){t.classList.add("expand"),o.header.classList.add("expand");for(var n=400,a=0;a<r.length;a++)r[a].classList.contains("active")&&(n=0,r[a].classList.remove("active"));return document.querySelector("#"+e+"-nav").classList.add("active"),n}(e);setTimeout(function(){n(e,"page")},a)}e.imgLoaded=function(e){var t=e.parentNode;t.className+=t.className?" loaded":"loaded"},e.Router=new router,Router.config({mode:"history"}),Router.add(/info/,a).add(/code/,a).add(/contact/,a).add(function(){if(""===Router.getFragment()){o.page.innerHTML="",t.classList.remove("expand"),o.header.classList.remove("expand");for(var e=0;e<r.length;e++)r[e].classList.remove("active")}else document.querySelector(".error").classList.remove("hide")}),document.addEventListener("DOMContentLoaded",function(e){o.body=document.body,n("main","body",{append:!0}),o.header=document.querySelectorAll(".header")[0],o.page=document.querySelectorAll(".page-content")[0],t=document.querySelectorAll(".view-content")[0],r=document.querySelectorAll(".nav p"),Router.listen(),Router.check(Router.getFragment())})}(window);