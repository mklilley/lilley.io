"use strict";function Router(){return{routes:[],mode:null,root:"/",config:function(e){return this.mode=e&&e.mode&&"history"==e.mode&&history.pushState?"history":"hash",this.root=e&&e.root?"/"+this.clearSlashes(e.root)+"/":"/",this},getFragment:function(){var e="";if("history"===this.mode)e=(e=this.clearSlashes(decodeURI(location.pathname+location.search))).replace(/\?(.*)$/,""),e="/"!=this.root?e.replace(this.root,""):e;else{var t=window.location.href.match(/#(.*)$/);e=t?t[1]:""}return this.clearSlashes(e)},clearSlashes:function(e){return e.toString().replace(/\/$/,"").replace(/^\//,"")},add:function(e,t){return"function"==typeof e&&(t=e,e=""),this.routes.push({re:e,handler:t}),this},remove:function(e){for(var t,r=0;this.routes.length,t=this.routes[r];r++)if(t.handler===e||t.re.toString()===e.toString())return this.routes.splice(r,1),this;return this},flush:function(){return this.routes=[],this.mode=null,this.root="/",this},check:function(e){for(var t=e||this.getFragment(),r=0;r<this.routes.length;r++){var n=t.match(this.routes[r].re);if(n){if(t===n[0])return n.shift(),this.routes[r].handler.apply({},n),this.current=n,this;document.querySelector(".error").classList.remove("hide")}}return this},listen:function(){var e=this,t=e.getFragment();return clearInterval(this.interval),this.interval=setInterval(function(){t!==e.getFragment()&&(t=e.getFragment(),e.check(t))},50),this},navigate:function(e){return(e=e||"")!==this.getFragment()&&("history"===this.mode?history.pushState(null,null,this.root+this.clearSlashes(e)):window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+e),this}}}!function(e){var t,r,n={body:"",header:"",page:""};function o(e){var t=e.parentNode;t.className+=t.className?" loaded":"loaded"}function a(e,t,r){var a=document.querySelector("#"+e+"-template"),i=templateData[e];if(r&&r.append||(n[t].innerHTML=""),i)for(var c=0;c<i.length;c++){for(var s=i[c],u=Object.keys(s),l=0;l<u.length;l++){var d=templateTagMap[u[l]],h=s[u[l]];a.content.querySelector(u[l])[d]=h}var m=document.importNode(a.content,!0);n[t].appendChild(m)}else{m=document.importNode(a.content,!0);n[t].appendChild(m)}var v=document.querySelectorAll(".img-load");for(var f of v)f.addEventListener("load",function(e){o(e.target)},{once:!0})}function i(){var e=router.getFragment();n.header.innerHTML="<h1>"+e.charAt(0).toUpperCase()+e.slice(1);var o=function(e){t.classList.add("expand"),n.header.classList.add("expand");for(var o=400,a=0;a<r.length;a++)r[a].classList.contains("active")&&(o=0,r[a].classList.remove("active"));return document.querySelector("#"+e+"-nav").classList.add("active"),o}(e);setTimeout(function(){a(e,"page")},o)}e.imgLoaded=o,e.router=new Router,router.config({mode:"history"}),router.add(/info/,i).add(/code/,i).add(/contact/,i).add(function(){if(""===router.getFragment()){n.page.innerHTML="",t.classList.remove("expand"),n.header.classList.remove("expand");for(var e=0;e<r.length;e++)r[e].classList.remove("active")}else document.querySelector(".error").classList.remove("hide")}),document.addEventListener("DOMContentLoaded",function(e){n.body=document.body,a("main","body",{append:!0}),n.header=document.querySelectorAll(".header")[0],n.page=document.querySelectorAll(".page-content")[0],t=document.querySelectorAll(".view-content")[0],r=document.querySelectorAll(".nav p");var o=document.querySelector("#logo"),i=document.querySelector("#info-nav"),c=document.querySelector("#code-nav"),s=document.querySelector("#contact-nav");o.addEventListener("click",function(){router.navigate("/")}),i.addEventListener("click",function(){router.navigate("info")}),c.addEventListener("click",function(){router.navigate("code")}),s.addEventListener("click",function(){router.navigate("contact")}),router.listen(),router.check(router.getFragment())})}(window);